var Format=Format||function(t){"use strict";var e;return function(t){var e;!function(t){var e;!function(t){function e(t){if(a(t,"getName"),void 0!==t.name)return t.name;var e=n.exec(t.toString());return e&&e[1]?e[1]:""}function r(t){a(t,"getReturnName");var e=o.exec(t.toString());return e?e[1]:void 0}function i(){return s}var n,o,a,s;t.getName=e,n=/function +(\w+)/,t.getReturnName=r,o=/(?:(?:=>)|(?:return\s))\s*(?:\w+\.)*([A-Za-z]+)/,a=function(t,e){if("function"!=typeof t)throw new TypeError("Cannot call method '"+e+"' on non-functional objects")},t.getEmpty=i,s=function(){return void 0}}(e=t.Function||(t.Function={}))}(e=t.Utils||(t.Utils={}))}(t||(t={})),e=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);r.prototype=e.prototype,t.prototype=new r},function(t){var r;!function(r){t.Errors.ErrorClass=Error;var i=function(t){function r(e,r){t.call(this,e),this.name="SystemError",this.message=e,r&&(this.innerError=r,this.stack=r.stack)}return e(r,t),r}(r.ErrorClass);r.SystemError=i}(r=t.Errors||(t.Errors={}))}(t||(t={})),function(t){var r;!function(t){var r=function(t){function r(e,r){t.call(this,e,r),this.name="ArgumentError"}return e(r,t),r}(t.SystemError);t.ArgumentError=r}(r=t.Errors||(t.Errors={}))}(t||(t={})),function(t){var r;!function(t){var r=function(t){function r(e){t.call(this,"Argument '"+e+"' cannot be undefined or null"),this.name="ArgumentNullError"}return e(r,t),r}(t.ArgumentError);t.ArgumentNullError=r}(r=t.Errors||(t.Errors={}))}(t||(t={})),function(t){var e;!function(e){var r;!function(r){function i(t){return!(t&&e.Polyfill.trim(t).length>0)}function n(e,r,i){if(null==e)throw new t.Errors.ArgumentNullError("value");if(null==r)throw new t.Errors.ArgumentNullError("startIndex");if(null==i)throw new t.Errors.ArgumentNullError("insertValue");if(0>r||r>e.length||isNaN(r))throw RangeError("Argument 'startIndex="+r+"' is not an index inside of 'value=\""+e+"\"'");return e.substring(0,r)+i+e.substring(r)}r.isNullOrWhitespace=i,r.insert=n}(r=e.Text||(e.Text={}))}(e=t.Utils||(t.Utils={}))}(t||(t={})),function(t){var e;!function(t){function e(t,e){return r(e)===n(t)}function r(e){return null===e?t.Types.Null:void 0===e?t.Types.Undefined:Object.prototype.toString.call(e)}var i,n;t.isType=e,t.getType=r,i=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e]=n(e));return t},n=function(t){return"[object "+t+"]"},t.Types=i({Array:"",Boolean:"",Date:"",Function:"",Null:"",Number:"",Object:"",RegExp:"",String:"",Undefined:""})}(e=t.Utils||(t.Utils={}))}(t||(t={})),function(t){var e;!function(e){var r;!function(e){function r(t){return t>0&&e.isInteger(t)}function i(t){return t>=0&&e.isInteger(t)}function n(r){if(!e.isInteger(r))throw new t.Errors.ArgumentError("Argument 'value' must be an integer");return 0===(1&r)}function o(t,e,r){return u(f(t),e,r)}function a(t,e,r){return u(m(t),e,r)}function s(t,e,r){return u(h(t),e,r)}var u,c,p,l,f,m,h,g;e.isCounting=r,e.isWhole=i,e.isEven=n,e.isInteger=Number.isInteger||function(t){return null!==t&&+t===t>>0},e.toFixedMinMax=o,e.toExponentialMinMax=a,e.toPrecisionMinMax=s,u=function(t,e,r){return null==e&&(e=void 0),null==r&&(r=void 0),void 0===e&&void 0!==r&&(e=t.defaultMinDigits),c(t,e,r),p(t,e,r)},c=function(e,r,i){if(void 0!==r&&!isFinite(r))throw new t.Errors.ArgumentError("Argument 'minDigits' cannot be NaN or infinite");if(void 0!==i&&!isFinite(i))throw new t.Errors.ArgumentError("Argument 'maxDigits' cannot be NaN or infinite");if(r>i)throw new RangeError("Argument 'minDigits="+r+"' cannot be greater than argument 'maxDigits="+i+"'");if(i-r>20)throw new RangeError("The difference between arguments 'minDigits="+r+"' and 'maxDigits="+i+"' cannot exceed 20")},p=function(t,e,r){var i,n,o=t.delegate(r);return e===r?o:(i=+o,n=t.delegate(e),i===+n?n:l(t,{minDigits:e,maxDigits:r,targetValue:i})||o)},l=function(t,e){var r,i;for(r=e.minDigits+1;r<e.maxDigits;r+=1)if(i=t.delegate(r),e.targetValue===+i)return i},f=function(t){return g(t),{defaultMinDigits:0,delegate:function(e){return null!=e?t.toFixed(e):t.toString()}}},m=function(t){return g(t),{defaultMinDigits:0,delegate:function(e){return void 0!==e?t.toExponential(e):t.toExponential()}}},h=function(t){return g(t),{defaultMinDigits:1,delegate:function(e){return null!==e?t.toPrecision(e):t.toPrecision()}}},g=function(e){if(null==e)throw new t.Errors.ArgumentNullError("value");if(!isFinite(e))throw new t.Errors.ArgumentError("Argument 'value' cannot be NaN or infinite")}}(r=e.Numeric||(e.Numeric={}))}(e=t.Utils||(t.Utils={}))}(t||(t={})),function(t){var e;!function(e){var r;!function(r){function i(e,r){if(null==e)throw new t.Errors.ArgumentNullError("value");return o(r),a(r),s(e,r)&&(e=p[r.direction](e,r)),e}var n,o,a,s,u,c,p;!function(t){t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Both=3]="Both"}(r.Direction||(r.Direction={})),n=r.Direction,r.pad=i,o=function(t){t.direction=t.direction||n.Right,t.paddingChar=t.paddingChar||" "},a=function(r){if(!e.Numeric.isCounting(r.totalWidth))throw new t.Errors.ArgumentError("Option 'totalWidth' with value '"+r.totalWidth+"' must be a positive non-zero integer (counting) number");if("string"!=typeof r.paddingChar||r.paddingChar.length>1)throw new t.Errors.ArgumentError("Option 'paddingChar' with value '"+r.paddingChar+"' must be a single character string");if(null==n[r.direction])throw new t.Errors.ArgumentError("Option 'direction' with value '"+r.direction+"' must be one of Padding.Direction enum values")},s=function(t,e){return e.totalWidth>t.length},u=function(t,e){return e.totalWidth-t.length},c=function(t,e){return new Array(t+1).join(e.paddingChar)},p={},p[n.Left]=function(t,e){return c(u(t,e),e)+t},p[n.Right]=function(t,e){return t+c(u(t,e),e)},p[n.Both]=function(t,e){var r=u(t,e),i=Math.ceil(r/2),n=r-i;return c(n,e)+t+c(i,e)}}(r=e.Padding||(e.Padding={}))}(e=t.Utils||(t.Utils={}))}(t||(t={})),function(t){var e;!function(e){var r;!function(e){function r(e,r){var i,n,o;if(null==e)throw new t.Errors.ArgumentNullError("array");if("function"!=typeof r)throw new TypeError("Cannot call method 'takeWhile' without a predicate function");for(i=[],n=0,o=e.length;o>n&&r(e[n],n);n+=1)i.push(e[n]);return i}function i(e){var r,i,n;if(null==e)throw new t.Errors.ArgumentNullError("array");for(r=0,i=0,n=e.length;n>i;i+=1)void 0!==e[i]&&(e[r]=e[i],r+=1);return e.length=r,e}e.takeWhile=r,e.compact=i}(r=e.Enumerable||(e.Enumerable={}))}(e=t.Utils||(t.Utils={}))}(t||(t={})),function(t){var r;!function(t){var r=function(t){function r(e){t.call(this,"Method '"+e+"' is not implemented or abstract"),this.name="NotImplementedError"}return e(r,t),r}(t.SystemError);t.NotImplementedError=r}(r=t.Errors||(t.Errors={}))}(t||(t={})),function(t){var r;!function(t){var r=function(t){function r(e,r){t.call(this,e,r),this.name="InvalidOperationError"}return e(r,t),r}(t.SystemError);t.InvalidOperationError=r}(r=t.Errors||(t.Errors={}))}(t||(t={})),function(t){var e;!function(e){var r=function(){function e(){var t,e=[];for(t=0;t<arguments.length;t++)e[t-0]=arguments[t];this.isWritable=void 0===e[0],this.locales=e[0]||"",this.resolveFormatInfo(this.locales)}return e.prototype.getFormatter=function(e){if(e!==t.Utils.Types.Date)throw new t.Errors.InvalidOperationError("The NumberFormatInfo object supports formatting numeric values only");return this.formatter},e.prototype.resolveFormatInfo=function(t){t?this.resolveCultureFormatInfo(t):this.setInvariantFormatInfo()},e.prototype.setInvariantFormatInfo=function(){this.formatter=void 0},e.prototype.resolveCultureFormatInfo=function(e){throw new t.Errors.NotImplementedError("resolveCultureFormatInfo")},e}();e.DateTimeFormatInfo=r,r.InvariantInfo=new r("")}(e=t.Globalization||(t.Globalization={}))}(t||(t={})),function(t){var e;!function(e){var r;!function(r){function i(r,i,n){if(null==r)throw new t.Errors.ArgumentNullError("array");if(n=+n||0,!e.Numeric.isInteger(n))throw new t.Errors.ArgumentError("Argument 'fromIndex' with value '"+n+"' must be an integer");return r.indexOf?r.indexOf(i,n):s(r,i,n)}function n(e,r){if(null==e)throw new t.Errors.ArgumentNullError("value");if(r>>=0,!r||!isFinite(e))return Math.round(e);var i=e>=0?1:-1;return e=Math.round(o(e*i,-r)),o(e,r)*i}var o,a,s,u,c,p;r.indexOf=i,r.round=n,o=function(t,e){var r=(t+"").split("e");return r[1]&&(e+=+r[1]),+(r[0]+"e"+e)},0===+.005.toFixed(2)&&(a=Number.prototype.toFixed,Number.prototype.toFixed=function(t){return a.call(n(this,-t),t)+""}),s=function(t,e,r){var i,n=Object(t),o=n.length>>>0;if(0===o||r>=o)return-1;for(i=u(r,o);o>i;i+=1)if(i in n&&n[i]===e)return i;return-1},u=function(t,e){return 0>t&&(t+=e),Math.max(0,t)},r.isArray=Array.isArray||function(t){return e.getType(t)===e.Types.Array},r.trim="".trim?function(t){return c(t),t.trim()}:function(t){return c(t),t.replace(p,"")},c=function(e){if(null==e)throw new t.Errors.ArgumentNullError("value")},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g}(r=e.Polyfill||(e.Polyfill={}))}(e=t.Utils||(t.Utils={}))}(t||(t={})),function(t){var e;!function(e){function r(t){return e.getType(t)===e.Types.Object}function i(t){if(!n(t))throw TypeError("Cannot call method 'isEmpty' on non-enumerable objects");for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var n,o,a,s,u,c,p,l,f;e.isObject=r,e.isEmpty=i,n=function(t){return("object"==typeof t||"function"==typeof t)&&null!==t},e.mapValuesAsKeys=function(r){var i,n,a,s;if(null==r)throw new t.Errors.ArgumentNullError("object");if("string"==typeof r)throw new t.Errors.ArgumentError("Cannot call method 'enumerateValues' on immutable string objects");i=e.Polyfill.isArray(r),n=i?[]:{};for(a in r)r.hasOwnProperty(a)&&(s=r[a],o(r,n,s),n[s]=i?+a:a,n[a]=s);return n},o=function(e,r,i){if(null==i)throw new t.Errors.ArgumentError("Cannot call method 'enumerateValues' on objects that contain undefined or null values");if(e.hasOwnProperty(i)||r.hasOwnProperty(i))throw new t.Errors.ArgumentError("Cannot enumerate value '"+i+"' because such a key already exists in "+e)},e.extend=function(t){var e,r=[];for(e=1;e<arguments.length;e++)r[e-1]=arguments[e];return a(t,r,{deep:!1,seen:[]})},e.deepExtend=function(t){var e,r=[];for(e=1;e<arguments.length;e++)r[e-1]=arguments[e];return a(t,r,{deep:!0,seen:[]})},a=function(e,r,i){if(e=s(e,i),!r.length)throw new t.Errors.ArgumentError("Arguments' list 'options' must contain at least one element");for(var n=0,o=r.length;o>n;n+=1)null!=r[n]&&c(e,r[n],i);return e},s=function(e,r){if(!n(e)){if(!r.deep)throw new t.Errors.ArgumentError("Argument 'target' with value '"+e+"' must be an enumerable object instance");return{}}return e},u=e.Polyfill.isArray,c=function(t,e,r){var i,n,o=u(e);r.seen.push(e);for(i in e)r.key=i,n=e[i],n===t||o&&!e.hasOwnProperty(i)||(p(n,r)?l(t,n,r):void 0!==n&&(t[i]=n))},p=function(t,i){return i.deep&&-1===e.Polyfill.indexOf(i.seen,t)&&(r(t)&&t.constructor===Object||u(t))},l=function(t,e,r){var i=f(t[r.key],e);t[r.key]=a(i,[e],r)},f=function(t,e){return u(e)?u(t)?t:[]:r(t)?t:{}}}(e=t.Utils||(t.Utils={}))}(t||(t={})),function(t){var e;!function(e){var r;!function(e){var r;!function(e){e.StandardSpecifierRexExp=/^([a-z])(\d*)$/i,e.DefaultStandardExponentialPrecision=6,e.StandardSpecifiers=t.Utils.mapValuesAsKeys({currency:"C",decimal:"D",exponential:"E",fixedPoint:"F",general:"G",number:"N",percent:"P",roundTrip:"R",hex:"X"})}(r=e.Specifiers||(e.Specifiers={}))}(r=e.Numeric||(e.Numeric={}))}(e=t.Globalization||(t.Globalization={}))}(t||(t={})),function(t){var e;!function(e){var r;!function(e){var r=function(){function r(t,e){this.style=t.getStyle(),this.noDigits=t.hasNoDigits(),this.upperCase=t.isUpperCase(),this.useGrouping=t.useGrouping(),this.noLeadingZeroIntegerDigit=t.hasNoLeadingZeroIntegerDigit(),this.prefixDecorator=t.getPrefixDecorator(),this.suffixDecorator=t.getSuffixDecorator(),this.internalDecorators=t.getInternalDecorators(),this.formatInfo=e}return r.prototype.applyOptions=function(t,e){return e=this.removeNegativeSign(t,e),e=this.applyDigitOptions(t,e),e=this.applyInternalDecorators(e),e=this.applyExternalDecorators(e),this.applyNegativeSign(t,e)},r.prototype.applyUppercase=function(t){return this.upperCase?t.toUpperCase():t},r.prototype.applyGrouping=function(t){if(!this.useGrouping)return t;var e=this.getDecimalSeparator(),i=t.split(e);return i[0]=i[0].replace(r.groupSeparatorRegExp,this.getGroupSeparator()),i.join(e)},r.prototype.applyIntegerPadding=function(e,r,i){var n=this.getDecimalSeparator(),o=r.split(n);return o[0]=this.removeNegativeSign(e,o[0]),o[0].length<i&&(o[0]=t.Utils.Padding.pad(o[0],{totalWidth:i,paddingChar:"0",direction:t.Utils.Padding.Direction.Left})),o.join(n)},r.prototype.isCurrency=function(){var t=e.Specifiers.StandardSpecifiers;return this.style===t[t.decimal]},r.prototype.getDecimalSeparator=function(){return this.isCurrency()?this.formatInfo.CurrencyDecimalSeparator:this.formatInfo.NumberDecimalSeparator},r.prototype.getGroupSeparator=function(){return this.isCurrency()?this.formatInfo.CurrencyGroupSeparator:this.formatInfo.NumberGroupSeparator},r.prototype.removeNegativeSign=function(t,e){return this.restoreNegativeSign?e:(this.restoreNegativeSign=0>t&&e[0]===this.formatInfo.NegativeSign,this.restoreNegativeSign?e.substring(1):e)},r.prototype.applyDigitOptions=function(t,e){return this.noDigits?"":this.shouldRemoveLeadingZero(t)?e=e.substring(1):e},r.prototype.shouldRemoveLeadingZero=function(t){var r=e.Specifiers.StandardSpecifiers;return this.noLeadingZeroIntegerDigit&&this.style!==r[r.exponential]&&this.style!==r[r.roundTrip]&&this.style!==r[r.general]&&this.style!==r[r.hex]&&Math.abs(t)<1},r.prototype.applyInternalDecorators=function(t){var e,r,i;if(!this.internalDecorators)return t;e=this.getDecimalSeparator(),r=t.split(e),this.decimalOffset=0;for(i in this.internalDecorators)this.internalDecorators.hasOwnProperty(i)&&this.applyInternalDecorator(r,+i,this.internalDecorators[i]);return r.join(e)},r.prototype.applyInternalDecorator=function(e,r,i){var n,o=e[0];0>r?(r+=o.length+1,e[0]=t.Utils.Text.insert(o,Math.max(0,r),i)):(r+=this.decimalOffset,this.decimalOffset+=i.length,n=e[1],n?e[1]=t.Utils.Text.insert(n,r,i):e[0]=t.Utils.Text.insert(o,Math.min(r,o.length),i))},r.prototype.applyExternalDecorators=function(t){return this.prefixDecorator&&(t=this.prefixDecorator+t),this.suffixDecorator&&(t+=this.suffixDecorator),t},r.prototype.applyNegativeSign=function(t,e){return this.restoreNegativeSign?this.formatInfo.NegativeSign+e:e},r.groupSeparatorRegExp=/\B(?=(\d{3})+(?!\d))/g,r}();e.DecorationFormatter=r}(r=e.Numeric||(e.Numeric={}))}(e=t.Globalization||(t.Globalization={}))}(t||(t={})),function(t){var e;!function(e){var r;!function(e){var r=function(){function e(t){var e=this;this.resolvers={0:function(t,r){return r.nonZeroEncountered?e.resolveDigit(t,r):""},".":function(t,e){return e.afterDecimal=!0,""},"-":function(t){return t}},this.minimumIntegerDigits=this.floorOption(t.getMinimumIntegerDigits()),this.minimumFractionDigits=this.floorOption(t.getMinimumFractionDigits()),this.maximumFractionDigits=this.floorOption(t.getMaximumFractionDigits()),this.minimumExponentDigits=this.floorOption(t.getMinimumExponentDigits()),this.negativellySignedExponent=t.isNegativellySignedExponent()}return e.prototype.applyOptions=function(t){var e=this;return this.validateOption(function(){return e.minimumIntegerDigits},1),this.minimumIntegerDigits>1?(this.validateCustomOptions(),this.toCustomExponential(t)):this.toExponential(t)},e.prototype.applyExponentPadding=function(t){var e,r,i=this;return this.validateOption(function(){return i.minimumExponentDigits},1),this.minimumExponentDigits>1&&(e=t.lastIndexOf("e")+2,r=this.getPaddedExponent(t.substring(e)),t=t.substring(0,e)+r),t},e.prototype.floorOption=function(t){return null!=t?Math.floor(t):void 0},e.prototype.validateOption=function(e,r){var i=e();if(void 0!==i&&(!isFinite(i)||r>i))throw new t.Errors.ArgumentError("Option '"+t.Utils.Function.getReturnName(e)+"' with value '"+i+"' must be finite and greater than or equal to "+r)},e.prototype.validateCustomOptions=function(){var t=this;if(this.validateOption(function(){return t.minimumFractionDigits},0),this.validateOption(function(){return t.maximumFractionDigits},0),this.validateOption(function(){return t.minimumExponentDigits},1),this.minimumFractionDigits>this.maximumFractionDigits)throw new RangeError("Argument 'minimumFractionDigits="+this.minimumFractionDigits+"' cannot be greater than argument 'maximumFractionDigits="+this.maximumFractionDigits+"'")},e.prototype.toExponential=function(e){var r=t.Utils.Numeric.toExponentialMinMax(e,this.minimumFractionDigits,this.maximumFractionDigits);return r=this.applyExponentPadding(r),r=this.applyExponentSigning(r)},e.prototype.getPaddedExponent=function(e){return t.Utils.Padding.pad(e,{totalWidth:this.minimumExponentDigits,direction:t.Utils.Padding.Direction.Left,paddingChar:"0"})},e.prototype.applyExponentSigning=function(t){if(this.negativellySignedExponent){var e=t.lastIndexOf("+");e>0&&(t=t.substring(0,e)+t.substring(e+1))}return t},e.prototype.toCustomExponential=function(t){return this.resolveFromState({index:0,digits:t.toString(),power:-this.minimumIntegerDigits,offset:this.minimumIntegerDigits,nonZeroEncountered:!1,afterDecimal:!1})},e.prototype.resolveFromState=function(t){var e,r="";for(e=t.digits.length;t.index<e;t.index+=1)r+=this.resolveFromDigit(t);return this.resolveOffset(r,t)+this.resolveExponent(t)},e.prototype.resolveFromDigit=function(t){var e=t.digits[t.index],r=this.resolvers[e];return e=r?r(e,t):this.resolveNonZeroDigit(e,t),e?e+this.resolveDecimalPoint(t):""},e.prototype.resolveNonZeroDigit=function(t,e){return e.nonZeroEncountered||(e.nonZeroEncountered=!0),this.resolveDigit(t,e)},e.prototype.resolveDigit=function(t,e){if(this.resolvePowerState(e),this.resolveDigitState(e),void 0!==this.maximumFractionDigits){if(e.decimalDigits>this.maximumFractionDigits)return"";if(e.decimalDigits===this.maximumFractionDigits)return this.resolveDigitRounding(t,e)}return t},e.prototype.resolvePowerState=function(t){t.nonZeroEncountered?(t.offset-=1,t.afterDecimal||(t.power+=1)):t.afterDecimal&&(t.power-=1)},e.prototype.resolveDigitState=function(t){t.decimalDigits>=0&&(t.decimalDigits+=1),0===t.offset&&(t.decimalDigits=0)},e.prototype.resolveDigitRounding=function(t,e){var r=+e.digits[e.index+1];return isNaN(r)&&(r=+e.digits[e.index+2]),r>=5?+t+1+"":t},e.prototype.resolveDecimalPoint=function(t){return 0===t.offset&&0!==this.maximumFractionDigits?".":""},e.prototype.resolveOffset=function(e,r){r.offset>0&&(e=t.Utils.Padding.pad(e,{totalWidth:e.length+r.offset,paddingChar:"0"}),this.minimumFractionDigits>0&&(e+="."));var i=this.minimumFractionDigits-(r.decimalDigits||0);return i>0&&(e=t.Utils.Padding.pad(e,{totalWidth:e.length+i,paddingChar:"0"})),e},e.prototype.resolveExponent=function(t){var e=Math.abs(t.power).toString(),r=t.power<0?"-":this.negativellySignedExponent?"":"+";return this.minimumExponentDigits>1&&(e=this.getPaddedExponent(e)),"e"+r+e},e}();e.ExponentialFormatter=r}(r=e.Numeric||(e.Numeric={}))}(e=t.Globalization||(t.Globalization={}))}(t||(t={})),function(t){var e;!function(e){var r;!function(r){var i=function(){function i(e,i){var n=this;this.formatters={currency:function(){throw new t.Errors.NotImplementedError("currency")},decimal:function(){var t=n.optionsProvider.getMinimumSignificantDigits();return void 0===t&&(t=n.optionsProvider.getMinimumIntegerDigits()),n.decorationFormatter.applyIntegerPadding(n.value,n.value.toFixed(0),t)},exponential:function(){var t=new r.ExponentialFormatter(n.optionsProvider),e=t.applyOptions(n.value);return n.decorationFormatter.applyUppercase(e)},fixedPoint:function(){return n.applyDecimalFormat()},general:function(){var e,i=n.optionsProvider.getMaximumSignificantDigits(),o=new r.ExponentialFormatter(n.optionsProvider);return Math.abs(n.value)<1e-4?e=o.applyOptions(n.value):(e=t.Utils.Numeric.toPrecisionMinMax(n.value,void 0,i),e=o.applyExponentPadding(e)),n.decorationFormatter.applyUppercase(e)},number:function(){return n.applyDecimalFormat()},percent:function(){return n.value*=100,n.formatters.number()+" %"},roundTrip:function(){return JSON.stringify(n.value)},hex:function(){var t,e=n.optionsProvider.getMinimumSignificantDigits();return void 0===e&&(e=n.optionsProvider.getMinimumIntegerDigits()),t=n.decorationFormatter.applyIntegerPadding(n.value,n.value.toString(16),e),n.decorationFormatter.applyUppercase(t)}},this.optionsProviderConstructor=e,this.baseOptions=i||{}}return i.prototype.format=function(t,e){try{return this.innerFormat(t,e)}finally{this.cleanup()}},i.prototype.applyOptions=function(e){var r,i=this.optionsProvider.getStyle();if(i){if(this.formatters.hasOwnProperty(i))return this.formatters[i]();throw new t.Errors.ArgumentError("Option 'style' with base or resolved value '"+i+"' is not supported")}return r=t.Utils.Numeric.toFixedMinMax(this.value,this.optionsProvider.getMinimumFractionDigits(),this.optionsProvider.getMaximumFractionDigits()),r=this.decorationFormatter.applyIntegerPadding(this.value,r,this.optionsProvider.getMinimumIntegerDigits()),this.decorationFormatter.applyGrouping(r)},i.prototype.getFormatInfo=function(){return e.NumberFormatInfo.InvariantInfo},i.prototype.innerFormat=function(e,i){if(this.optionsProvider=new this.optionsProviderConstructor(this.baseOptions),this.resolvedOptions=this.optionsProvider.resolveOptions(e,i),!t.Utils.isObject(this.resolvedOptions))throw new t.Errors.InvalidOperationError("Invocation of 'optionsProvider' member's method 'resolveOptions' did not initialize instance member 'resolvedOptions' properly");return this.setValue(i),this.decorationFormatter=new r.DecorationFormatter(this.optionsProvider,this.getFormatInfo()),this.decorationFormatter.applyOptions(this.value,this.applyOptions(this.value))},i.prototype.setValue=function(t){this.value=t;var e=this.optionsProvider.getValueDivisor();e&&(this.value/=e)},i.prototype.cleanup=function(){delete this.value,delete this.resolvedOptions,delete this.optionsProvider,delete this.decorationFormatter},i.prototype.applyDecimalFormat=function(){var e,r=this.getFormatInfo(),i=this.optionsProvider.getMinimumFractionDigits();return void 0===i&&(i=r.NumberDecimalDigits),e=this.optionsProvider.getMaximumFractionDigits(),void 0===e&&(e=r.NumberDecimalDigits),this.decorationFormatter.applyGrouping(t.Utils.Numeric.toFixedMinMax(this.value,i,e))},i}();r.InvariantFormatter=i}(r=e.Numeric||(e.Numeric={}))}(e=t.Globalization||(t.Globalization={}))}(t||(t={})),function(t){var e;!function(t){var e,r,i={undefined:function(t){return null==t},"":function(t){return i.undefined(t)||""===t},0:function(t){return!t}},n=function(t){var r={removePredicate:i[t+""]};return function(t,i){return r.seen=[],r.deep=i,e(t,r)}};t.removeUndefined=n(void 0),t.removeEmpty=n(""),t.removeFalsy=n(0),e=function(e,i){var n=t.Polyfill.isArray(e);if(n||t.isObject(e)){i.seen.push(e);for(i.key in e)e.hasOwnProperty(i.key)&&r(e,i)}return n?t.Enumerable.compact(e):e},r=function(r,i){var n=r[i.key];i.removePredicate(n)?delete r[i.key]:i.deep&&-1===t.Polyfill.indexOf(i.seen,n)&&e(n,i)}}(e=t.Utils||(t.Utils={}))}(t||(t={})),function(t){var r;!function(t){var r=function(t){function r(e,r){t.call(this,e,r),this.name="FormatError"}return e(r,t),r}(t.SystemError);t.FormatError=r}(r=t.Errors||(t.Errors={}))}(t||(t={})),function(t){var e;!function(e){var r;!function(e){var r;!function(e){var r=function(){function r(r){var i=this;this.resolvers={currency:function(){i.options.useGrouping=!0,i.options.minimumFractionDigits=i.precision,i.options.maximumFractionDigits=i.precision},decimal:function(){i.options.minimumIntegerDigits=i.precision,i.options.maximumFractionDigits=0},exponential:function(){var t=i.precision>=0?i.precision:e.DefaultStandardExponentialPrecision;i.options.upperCase=i.specifier===i.specifier.toUpperCase(),i.options.minimumFractionDigits=t,i.options.maximumFractionDigits=t,i.options.minimumExponentDigits=3},fixedPoint:function(){i.options.minimumFractionDigits=i.precision,i.options.maximumFractionDigits=i.precision},general:function(){i.options.minimumExponentDigits=2,i.options.upperCase=i.specifier===i.specifier.toUpperCase(),i.precision>=1&&(i.options.maximumSignificantDigits=i.precision,i.options.maximumFractionDigits=i.precision>=1?i.precision-1:void 0)},number:function(){i.resolvers.fixedPoint(),i.options.useGrouping=!0},percent:function(){i.resolvers.number()},roundTrip:t.Utils.Function.getEmpty(),hex:function(){i.options.minimumSignificantDigits=i.precision,i.options.upperCase=i.specifier===i.specifier.toUpperCase()}},this.options=r}return r.prototype.resolveOptions=function(e,r){return this.tryInitializeSpecifierOptions(e)?(this.resolvers[this.style](),this.options.style=this.style,t.Utils.removeUndefined(this.options)):void 0},r.prototype.tryInitializeSpecifierOptions=function(r){var i=e.StandardSpecifierRexExp.exec(r);if(!i)return!1;if(this.specifier=i[1],this.style=e.StandardSpecifiers[this.specifier.toUpperCase()],!this.style)throw new t.Errors.FormatError("Format specifier '"+r+"' is invalid");return this.precision=""!==i[2]?+i[2]:void 0,!0},r}();e.IntlStandardOptionsProvider=r}(r=e.Specifiers||(e.Specifiers={}))}(r=e.Numeric||(e.Numeric={}))}(e=t.Globalization||(t.Globalization={}))}(t||(t={})),function(t){var e;!function(e){var r;!function(e){var r;!function(e){e.CustomExponentRexExp=/^E([-\+]?)(0+)/i,e.CustomSpecifiers=t.Utils.mapValuesAsKeys({zeroPlaceholder:"0",digitPlaceholder:"#",decimalPoint:".",groupSeparatorOrNumberScaling:",",percentagePlaceholder:"%",perMillePlaceholder:"‰",exponent:"E",escapeChar:"\\",literalStringDelimeterSingle:"'",literalStringDelimeterDouble:'"',sectionSeparator:";"})}(r=e.Specifiers||(e.Specifiers={}))}(r=e.Numeric||(e.Numeric={}))}(e=t.Globalization||(t.Globalization={}))}(t||(t={})),function(t){var e;!function(e){var r=function(){function r(e){if(null==e)throw new t.Errors.ArgumentNullError("valueFactory");this.valueCreated=!1,this.valueFactory=e}return r.fromConstructor=function(i){if(null==i)throw new t.Errors.ArgumentNullError("valueConstructor");var n=new r(e.Function.getEmpty());return n.valueConstructor=i,n},r.prototype.getValue=function(){if(this.valueError)throw this.valueError;return this.valueCreated||(this.value=this.lazyInitValue()),this.value},r.prototype.isValueCreated=function(){return this.valueCreated},r.prototype.lazyInitValue=function(){try{return this.createValue()}catch(e){throw this.valueError=new t.Errors.InvalidOperationError("Lazy value initializer threw an error: "+e.message,e)}finally{this.valueCreated=!0}},r.prototype.createValue=function(){return this.valueConstructor?new this.valueConstructor:this.valueFactory()},r}();e.Lazy=r}(e=t.Utils||(t.Utils={}))}(t||(t={})),function(t){var e;!function(t){var e,r=function(e){return function(r,i){var n=t.Polyfill.isArray(r);return n||t.isObject(r)?e(r,i,n):t.isType("Date",r)?new Date(r.getTime()):r}};t.clone=r(function(r,i,n){return i?t.deepExtend(e(r,n),r):t.extend(e(r,n),r)}),e=function(t,e){return e?[]:{}},t.fastClone=r(function(t){return JSON.parse(JSON.stringify(t))})}(e=t.Utils||(t.Utils={}))}(t||(t={})),function(t){var e;!function(e){var r;!function(e){var r;!function(e){var r=function(){function r(e){var r=this;this.getLookahead=function(){var e=r;return r.index<r.format.length-1&&(e=t.Utils.clone(r),e.index+=1,e.escapeOne=!1,e.doDetachedParse()),e},this.index=0,this.format=e,this.lookahead=new t.Utils.Lazy(this.getLookahead)}return r.getSections=function(t){var e=new r(t);return e.sections=["","",""],e.sectionIndex=0,e.doDetachedParse(),e.sections},r.prototype.getCurrentChar=function(){return this.secondaryExponent||this.format[this.index]},r.prototype.getDigitsBeforeDecimal=function(){return this.exponentMatchIndex>=0?this.getNumberPlaceholderCountBeforeDecimal():this.getZeroPlaceholderCountBeforeDecimal()},r.prototype.getNumberPlaceholderCountAfterDecimal=function(){return this.isAfterDecimal()?this.innerNumericSpecifiersIndex-this.decimalPointIndex:0},r.prototype.getZeroPlaceholderCountAfterDecimal=function(){return this.lastZeroSpecifierIndex>=this.decimalPointIndex?this.lastZeroSpecifierIndex-this.decimalPointIndex:0},r.prototype.getExponentSign=function(){return this.exponentGroups[1]},r.prototype.getExponentPlaceholderCount=function(){return Math.min(this.exponentGroups[2].length,10)},r.prototype.getIndexFromDecimal=function(){var t,e=this.decimalPointIndex;return this.isAfterDecimal()||(t=this.lookahead.getValue(),e=t.decimalPointIndex||t.innerNumericSpecifiersIndex+1,t.lastGroupSeparatorIndex>this.firstNumericSpecifierIndex&&(e+=Math.floor((e-this.innerNumericSpecifiersIndex-2)/3))),this.innerNumericSpecifiersIndex-e},r.prototype.isAfterDecimal=function(){return this.decimalPointIndex>=0},r.prototype.isBeforeNumericSpecifiers=function(){return void 0===this.firstNumericSpecifierIndex},r.prototype.isAfterNumericSpecifiers=function(){return this.index>this.lookahead.getValue().lastNumericSpecifierIndex},r.prototype.isImmediateAfterNumericSpecifiers=function(){var t=this.lookahead.getValue();return t.lastNumericSpecifierIndex+1===this.index?(t.lastNumericSpecifierIndex+=1,!0):!1},r.prototype.isExponentMatched=function(){return this.index===this.exponentMatchIndex},r.prototype.isExponentUppercase=function(){var t=this.exponentGroups[0][0];return t===t.toUpperCase()},r.prototype.doParse=function(t,e){var r,i=this.getHandlers();for(r=this.format.length;this.index<r;this.index+=1)this.addToSection(),this.handleSpecifier(i,t,e),this.addExponentOffset()},r.prototype.doDetachedParse=function(){this.doParse(void 0,void 0)},r.prototype.addToSection=function(){this.sections&&this.sectionIndex<3&&(this.escapeOne||this.escapeManyChar||this.getCurrentChar()!==e.CustomSpecifiers.sectionSeparator)&&(this.sections[this.sectionIndex]+=this.getCurrentChar())},r.prototype.handleSpecifier=function(t,r,i){var n=e.CustomSpecifiers[this.getCurrentChar().toUpperCase()],o=r&&r[n],a=t[n];this.canHandleSpecifier(a)?(a(),o&&o()):(i&&i(),this.escapeOne=!1)},r.prototype.canHandleSpecifier=function(t){return!this.escapeOne&&t&&!(this.escapeManyChar&&this.getCurrentChar()!==this.escapeManyChar)},r.prototype.addExponentOffset=function(){this.isExponentMatched()?this.index+=this.exponentGroups[0].length-1:this.secondaryExponent&&(this.index+=this.secondaryExponent.length-1,delete this.secondaryExponent)},r.prototype.handleNumericSpecifier=function(){this.lastNumericSpecifierIndex=this.index,void 0===this.firstNumericSpecifierIndex?(this.firstNumericSpecifierIndex=this.index,this.innerNumericSpecifiersIndex=0):this.innerNumericSpecifiersIndex+=1},r.prototype.handleLiteralStringDelimeter=function(){var t=this.getCurrentChar();this.escapeManyChar=this.escapeManyChar!==t?t:void 0},r.prototype.getExponentGroups=function(){if(!this.lookahead.isValueCreated())return this.matchExponent();var t=this.lookahead.getValue();return t.exponentMatchIndex===this.index?t.exponentGroups:void 0},r.prototype.matchExponent=function(){return e.CustomExponentRexExp.exec(this.format.substring(this.index))},r.prototype.getNumberPlaceholderCountBeforeDecimal=function(){return this.isAfterDecimal()?this.decimalPointIndex>0?this.decimalPointIndex:void 0:this.innerNumericSpecifiersIndex+1},r.prototype.getZeroPlaceholderCountBeforeDecimal=function(){var t=this.getNumberPlaceholderCountBeforeDecimal();return t>this.firstZeroSpecifierIndex?t-this.firstZeroSpecifierIndex:void 0},r.prototype.getHandlers=function(){var e=this;return{zeroPlaceholder:function(){e.handleNumericSpecifier(),e.lastZeroSpecifierIndex=e.innerNumericSpecifiersIndex,void 0===e.firstZeroSpecifierIndex&&(e.firstZeroSpecifierIndex=e.innerNumericSpecifiersIndex)},digitPlaceholder:function(){e.handleNumericSpecifier()},decimalPoint:function(){e.handleNumericSpecifier(),void 0===e.decimalPointIndex&&(e.decimalPointIndex=e.innerNumericSpecifiersIndex)},groupSeparatorOrNumberScaling:function(){e.isAfterDecimal()||(e.lastGroupSeparatorIndex=e.index)},exponent:function(){var t,r;
e.exponentGroups?(r=e.matchExponent(),r&&(e.secondaryExponent=r[0])):(t=e.getExponentGroups(),t&&(e.exponentGroups=t,e.exponentMatchIndex=e.index))},escapeChar:function(){e.escapeOne=!0},literalStringDelimeterSingle:function(){e.handleLiteralStringDelimeter()},literalStringDelimeterDouble:function(){e.handleLiteralStringDelimeter()},sectionSeparator:function(){e.sectionIndex+=1},percentagePlaceholder:t.Utils.Function.getEmpty(),perMillePlaceholder:t.Utils.Function.getEmpty()}},r}();e.CustomParser=r}(r=e.Specifiers||(e.Specifiers={}))}(r=e.Numeric||(e.Numeric={}))}(e=t.Globalization||(t.Globalization={}))}(t||(t={})),function(t){var e;!function(e){var r;!function(e){var r;!function(e){var r=function(){function r(r){var i=this;this.decoractingCharResolver=function(){var t=i.parser.getCurrentChar();i.parser.isBeforeNumericSpecifiers()?i.options.prefixDecorator+=t:i.parser.isAfterNumericSpecifiers()?i.options.suffixDecorator+=t:i.setInternalDecorator(t)},this.resolvers={zeroPlaceholder:function(){i.resolvers.digitPlaceholder(),i.parser.isAfterDecimal()||(i.options.noLeadingZeroIntegerDigit=!1)},digitPlaceholder:function(){i.options.noDigits=!1},decimalPoint:function(){i.resolvers.digitPlaceholder()},groupSeparatorOrNumberScaling:function(){i.parser.isBeforeNumericSpecifiers()||(i.parser.isAfterDecimal()||i.parser.isAfterNumericSpecifiers()?Math.abs(i.options.valueDivisor)>=1&&i.parser.isImmediateAfterNumericSpecifiers()&&(i.options.valueDivisor*=1e3):i.options.useGrouping=!0)},percentagePlaceholder:function(){i.decoractingCharResolver(),i.resetValueDivisor(),i.options.valueDivisor/=100},perMillePlaceholder:function(){i.decoractingCharResolver(),i.resetValueDivisor(),i.options.valueDivisor/=1e3},exponent:function(){i.parser.isExponentMatched()?(i.options.style=e.StandardSpecifiers[e.StandardSpecifiers.exponential],i.options.upperCase=i.parser.isExponentUppercase(),i.options.negativellySignedExponent="+"!==i.parser.getExponentSign(),i.options.minimumExponentDigits=i.parser.getExponentPlaceholderCount()):i.decoractingCharResolver()},escapeChar:void 0,sectionSeparator:void 0,literalStringDelimeterSingle:void 0,literalStringDelimeterDouble:void 0},this.options=t.Utils.extend(r,{noDigits:!0,noLeadingZeroIntegerDigit:!0,valueDivisor:1,prefixDecorator:"",internalDecorators:{},suffixDecorator:""})}return r.prototype.resolveOptions=function(t,e){return t=this.getSectionFormat(t,e),this.parseOptions(t),this.stripDefaultOptions(e)},r.prototype.parseOptions=function(t){t&&(this.parser=new e.CustomParser(t),this.parser.doParse(this.resolvers,this.decoractingCharResolver),this.options.minimumIntegerDigits=this.parser.getDigitsBeforeDecimal(),this.options.minimumFractionDigits=this.parser.getZeroPlaceholderCountAfterDecimal(),this.options.maximumFractionDigits=this.parser.getNumberPlaceholderCountAfterDecimal())},r.prototype.stripDefaultOptions=function(e){return 1===this.options.valueDivisor&&delete this.options.valueDivisor,t.Utils.isEmpty(this.options.internalDecorators)&&delete this.options.internalDecorators,this.stripDigitOptions(e)},r.prototype.stripDigitOptions=function(r){return this.options.valueDivisor&&(r/=this.options.valueDivisor),this.options.style!==e.StandardSpecifiers[e.StandardSpecifiers.exponential]&&this.options.noLeadingZeroIntegerDigit&&Math.abs(r)<1||delete this.options.noLeadingZeroIntegerDigit,this.options.noDigits||delete this.options.noDigits,t.Utils.removeEmpty(this.options)},r.prototype.getSectionFormat=function(t,r){if(-1===t.indexOf(e.CustomSpecifiers.sectionSeparator))return t;var i=e.CustomParser.getSections(t);return this.tryNonZeroSectionFormat(i,r)?"":i[2]||i[0]},r.prototype.tryNonZeroSectionFormat=function(t,e){return e>0?this.tryRoundToZeroFormat(t[0],e):0>e?this.tryNegativeZeroSectionFormat(t,e):void 0},r.prototype.tryNegativeZeroSectionFormat=function(t,e){var r=t[1];return r?this.options.valueDivisor=-1:r=t[0],this.tryRoundToZeroFormat(r,e)},r.prototype.tryRoundToZeroFormat=function(e,i){var n=new r({});return n.parseOptions(e),0!==+i.toFixed(n.options.maximumFractionDigits)?(n.options.valueDivisor*=this.options.valueDivisor,t.Utils.extend(this.options,n.options),!0):void 0},r.prototype.setInternalDecorator=function(t){var e=this.parser.getIndexFromDecimal(),r=this.options.internalDecorators[e]||"";this.options.internalDecorators[e]=r+t},r.prototype.resetValueDivisor=function(){var t=Math.abs(this.options.valueDivisor);t>=1&&(this.options.valueDivisor/=t)},r}();e.IntlCustomOptionsProvider=r}(r=e.Specifiers||(e.Specifiers={}))}(r=e.Numeric||(e.Numeric={}))}(e=t.Globalization||(t.Globalization={}))}(t||(t={})),function(t){var e;!function(e){var r;!function(e){var r=function(){function r(e){this.resolvedOptions=t.Utils.clone(e)}return r.prototype.resolveOptions=function(t,r){var i,n,o;return t&&(i=new e.Specifiers.IntlStandardOptionsProvider(this.resolvedOptions),n=i.resolveOptions(t,r),n||(o=new e.Specifiers.IntlCustomOptionsProvider(this.resolvedOptions),o.resolveOptions(t,r))),this.resolvedOptions},r.prototype.getStyle=function(){return this.resolvedOptions.style},r.prototype.useGrouping=function(){return this.resolvedOptions.useGrouping},r.prototype.getMinimumIntegerDigits=function(){return this.resolvedOptions.minimumIntegerDigits},r.prototype.getMinimumFractionDigits=function(){return this.resolvedOptions.minimumFractionDigits},r.prototype.getMaximumFractionDigits=function(){return this.resolvedOptions.maximumFractionDigits},r.prototype.getMinimumSignificantDigits=function(){return this.resolvedOptions.minimumSignificantDigits},r.prototype.getMaximumSignificantDigits=function(){return this.resolvedOptions.maximumSignificantDigits},r.prototype.hasNoDigits=function(){return this.resolvedOptions.noDigits},r.prototype.hasNoLeadingZeroIntegerDigit=function(){return this.resolvedOptions.noLeadingZeroIntegerDigit},r.prototype.isUpperCase=function(){return this.resolvedOptions.upperCase},r.prototype.isNegativellySignedExponent=function(){return this.resolvedOptions.negativellySignedExponent},r.prototype.getMinimumExponentDigits=function(){return this.resolvedOptions.minimumExponentDigits},r.prototype.getValueDivisor=function(){return this.resolvedOptions.valueDivisor},r.prototype.getPrefixDecorator=function(){return this.resolvedOptions.prefixDecorator},r.prototype.getInternalDecorators=function(){return this.resolvedOptions.internalDecorators},r.prototype.getSuffixDecorator=function(){return this.resolvedOptions.suffixDecorator},r}();e.IntlOptionsProvider=r}(r=e.Numeric||(e.Numeric={}))}(e=t.Globalization||(t.Globalization={}))}(t||(t={})),function(t){var e;!function(e){var r=function(){function r(){var t,e=[];for(t=0;t<arguments.length;t++)e[t-0]=arguments[t];this.isWritable=void 0===e[0],this.locales=e[0]||"",this.resolveFormatInfo(this.locales)}return r.prototype.getFormatter=function(e){if(e!==t.Utils.Types.Number)throw new t.Errors.InvalidOperationError("The NumberFormatInfo object supports formatting numeric values only");return this.formatter},r.prototype.resolveFormatInfo=function(t){t?this.resolveCultureFormatInfo(t):this.setInvariantFormatInfo()},r.prototype.setInvariantFormatInfo=function(){this.CurrencyDecimalSeparator=this.NumberDecimalSeparator=".",this.CurrencyGroupSeparator=this.NumberGroupSeparator=",",this.NegativeSign="-",this.NumberDecimalDigits=2,this.formatter=new e.Numeric.InvariantFormatter(e.Numeric.IntlOptionsProvider)},r.prototype.resolveCultureFormatInfo=function(e){throw new t.Errors.NotImplementedError("resolveCultureFormatInfo")},r}();e.NumberFormatInfo=r,r.InvariantInfo=new r("")}(e=t.Globalization||(t.Globalization={}))}(t||(t={})),function(t){var e;!function(e){var r=function(){function r(r){if(null==r)throw new t.Errors.ArgumentNullError("locales");this.locales=r,this.DateTimeFormat=new e.DateTimeFormatInfo(r),this.NumberFormat=new e.NumberFormatInfo(r),this.formatters=this.getFormatters(r)}return r.prototype.getFormatter=function(t){return this.formatters[t]||this.getFallbackFormatter()},r.prototype.getFormatters=function(e){var i={};return i[t.Utils.Types.Date]=this.DateTimeFormat.getFormatter(t.Utils.Types.Date),i[t.Utils.Types.Number]=this.NumberFormat.getFormatter(t.Utils.Types.Number),i[t.Utils.Types.Object]=i[t.Utils.Types.Array]=r.objectFormatter,i},r.prototype.getFallbackFormatter=function(){return r.fallbackFormatter},r.objectFormatter={format:function(t,e){return e?JSON.stringify(e):""}},r.fallbackFormatter={format:function(t,e){return null!=e?e+"":""}},r}();e.CultureInfo=r,r.CurrentCulture=r.InvariantCulture=new r("")}(e=t.Globalization||(t.Globalization={}))}(t||(t={})),function(t){function e(e,n,o){if(null==n)throw new t.Errors.ArgumentNullError("format");return e=e||t.Globalization.CultureInfo.CurrentCulture,n.replace(r,function(t,r,n,a){return i(e,o,{formatItem:t,indexComponent:r,alignmentComponent:n,formatStringComponent:a})})}var r,i,n,o,a,s,u;String.format=function(){var r,i,n,o=[];for(r=0;r<arguments.length;r++)o[r-0]=arguments[r];if("string"==typeof o[0])return e(void 0,o.shift(),o);if(i=o[0],i&&"function"!=typeof i.getFormatter)throw new t.Errors.ArgumentError("Argument 'provider' of type '"+t.Utils.Function.getName(i.constructor)+"' does not implement the FormatProvider interface");return n=o[1],o.splice(0,2),e(i,n,o)},t.innerFormat=e,r=/{+(\d+)(?:,(.+?))?(?::(.+?))?}+/g,i=function(e,r,i){var a,c=Math.floor(t.getBracesCount(i.formatItem,"{")/2);return n(i.formatItem)?i.formatItem.substring(c,i.formatItem.length-c):(a=o(e,r,i),i.alignmentComponent&&(a=s(a,i)),c>0&&(a=u(a,c,"{"),a=u(a,c,"}")),a)},t.getBracesCount=function(e,r){var i=e.split(r);return"}"===r&&(i=i.reverse()),t.Utils.Enumerable.takeWhile(i,t.Utils.Text.isNullOrWhitespace).length},n=function(e){var r=t.getBracesCount(e,"{"),i=t.getBracesCount(e,"}");if(r!==i)throw new t.Errors.FormatError("Opening and closing brackets for item '"+e+"' do not match");return t.Utils.Numeric.isEven(r)},o=function(e,r,i){var n,o,a=+i.indexComponent;if(a>=r.length)throw new t.Errors.FormatError("Index (zero based) must be strictly less than the size of the argument's array");n=r[a],o=t.Utils.getType(n);try{return e.getFormatter(o).format(i.formatStringComponent,n)}catch(s){throw new t.Errors.FormatError("Format string component '"+i.formatStringComponent+"' in format item '"+i.formatItem+"' cannot be applied: "+s.message,s)}},a=t.Utils.Padding.Direction,s=function(e,r){var i,n=+r.alignmentComponent;if(!t.Utils.Numeric.isInteger(n))throw new t.Errors.FormatError("Alignment component '"+r.alignmentComponent+"' in format item '"+r.formatItem+"' must be an integer");return i=0>n?a.Right:a.Left,n=Math.abs(n),t.Utils.Padding.pad(e,{totalWidth:n,direction:i})},u=function(e,r,i){var n="}"===i?a.Right:a.Left,o=e.length+r;return t.Utils.Padding.pad(e,{totalWidth:o,direction:n,paddingChar:i})}}(t||(t={})),t}(Format||{});